"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[7076],{7076:(M,d,i)=>{i.r(d),i.d(d,{ContactsPageModule:()=>_});var u=i(9808),r=i(4182),e=i(3996),m=i(1264),s=i(655),t=i(9863),g=i(1188),h=i(3071),x=i(3003);function v(o,c){if(1&o){const n=t.EpF();t.TgZ(0,"div",14),t.TgZ(1,"p",15),t._uU(2),t.qZA(),t.TgZ(3,"ion-item"),t.TgZ(4,"ion-label",16),t._uU(5,"Nombre: "),t.qZA(),t.TgZ(6,"ion-input",17),t.NdJ("ngModelChange",function(l){const p=t.CHM(n).$implicit;return t.oxw().contacts[p].nombre=l}),t.qZA(),t.qZA(),t.TgZ(7,"ion-item"),t.TgZ(8,"ion-label",16),t._uU(9,"Telefono: "),t.qZA(),t.TgZ(10,"ion-input",18),t.NdJ("ngModelChange",function(l){const p=t.CHM(n).$implicit;return t.oxw().contacts[p].telefono=l}),t.qZA(),t.qZA(),t.qZA()}if(2&o){const n=c.$implicit,a=t.oxw();t.xp6(2),t.hij("Contacto ",n+1,""),t.xp6(4),t.MGl("name","nombre",n,""),t.Q6J("ngModel",a.contacts[n].nombre),t.xp6(4),t.MGl("name","telefono",n,""),t.Q6J("ngModel",a.contacts[n].telefono)}}const P=function(){return[0,1,2]},b=[{path:"",component:(()=>{class o{constructor(n,a,l,f){this.storageService=n,this.userService=a,this.toastMessage=l,this.navCtrl=f,this.contacts=[{nombre:"",telefono:""},{nombre:"",telefono:""},{nombre:"",telefono:""}]}ngOnInit(){return(0,s.mG)(this,void 0,void 0,function*(){yield this.getUser(),console.log(this.user),this.fillContacts()})}fillContacts(){return(0,s.mG)(this,void 0,void 0,function*(){const n=yield this.userService.retrieveInfo(this.user.bandCode,"contacts",this.user.id).toPromise();console.log(n),this.contacts[0].nombre=n.data.nombre1,this.contacts[1].nombre=n.data.nombre2,this.contacts[2].nombre=n.data.nombre3,this.contacts[0].telefono=n.data.telefono1,this.contacts[1].telefono=n.data.telefono2,this.contacts[2].telefono=n.data.telefono3})}guardar(){return(0,s.mG)(this,void 0,void 0,function*(){const n={idUsuario:this.user.id,nombre1:this.contacts[0].nombre,telefono1:this.contacts[0].telefono,nombre2:this.contacts[1].nombre,telefono2:this.contacts[1].telefono,nombre3:this.contacts[2].nombre,telefono3:this.contacts[2].telefono},a=yield this.userService.registerContacts(n,this.user.session_token).toPromise();this.toastMessage.presentToast(a.message),this.navCtrl.navigateRoot("/tab1"),console.log(a)})}getUser(){return(0,s.mG)(this,void 0,void 0,function*(){yield this.storageService.loadUser().then(n=>{n&&(this.user=n,console.log("User coming from storage form2",this.user))}).catch(n=>console.log("Error obteniento user storage",n))})}}return o.\u0275fac=function(n){return new(n||o)(t.Y36(g.V),t.Y36(h.K),t.Y36(x.K),t.Y36(e.SH))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-contacts"]],decls:20,vars:2,consts:[[1,"ion-no-border"],["slot","start"],["color","primary","defaultHref","/initial"],["color","primary"],[1,"background"],["fForm2","ngForm"],["fixed",""],[1,"ion-align-items-center"],[1,"ion-text-center"],[1,"ion-margin"],["mode","md",1,"lista"],["id","divv",4,"ngFor","ngForOf"],[1,"botones"],["shape","round",3,"click"],["id","divv"],["id","numeral"],["color","primary","position","floating"],["type","text","required","",3,"name","ngModel","ngModelChange"],["type","number","required","",3,"name","ngModel","ngModelChange"]],template:function(n,a){1&n&&(t.TgZ(0,"ion-header",0),t.TgZ(1,"ion-toolbar"),t.TgZ(2,"ion-buttons",1),t._UZ(3,"ion-back-button",2),t.qZA(),t.TgZ(4,"ion-title",3),t._uU(5,"Contactos "),t.qZA(),t.qZA(),t.qZA(),t.TgZ(6,"ion-content",4),t.TgZ(7,"form",null,5),t.TgZ(9,"ion-grid",6),t.TgZ(10,"ion-row",7),t.TgZ(11,"ion-col",8),t.TgZ(12,"p",9),t._uU(13,"Ingresa los datos de hasta 3 contactos que recibiran alertas en caso de una eventualidad"),t.qZA(),t.TgZ(14,"section"),t.TgZ(15,"ion-list",10),t.YNc(16,v,11,5,"div",11),t._UZ(17,"div",12),t.qZA(),t.qZA(),t.TgZ(18,"ion-button",13),t.NdJ("click",function(){return a.guardar()}),t._uU(19," Guardar cambios "),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&n&&(t.xp6(16),t.Q6J("ngForOf",t.DdM(1,P)))},directives:[e.Gu,e.sr,e.Sm,e.oU,e.cs,e.wd,e.W2,r._Y,r.JL,r.F,e.jY,e.Nd,e.wI,e.q_,u.sg,e.YG,e.Ie,e.Q$,e.pK,e.j9,r.Q7,r.JJ,r.On,e.as],styles:["p[_ngcontent-%COMP%]{text-align:left}#label[_ngcontent-%COMP%]{font-weight:700;font-size:20px;margin-bottom:5%;text-align:left;text-align:center}section[_ngcontent-%COMP%]{margin-bottom:15px;background-color:var(--caja-color);border-radius:20px;padding:11px;box-shadow:1px 8px 8px #0000001f}section[_ngcontent-%COMP%]   #listheader[_ngcontent-%COMP%]{margin:0 0 10px;font-weight:700;color:var(--caja-text-color)}section[_ngcontent-%COMP%]   #numeral[_ngcontent-%COMP%]{font-size:12px;margin:0 3px 5px 0}section[_ngcontent-%COMP%]   .botones[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between}section[_ngcontent-%COMP%]   #quitar[_ngcontent-%COMP%]{font-size:12px;margin:0 3px;color:var(--ion-color-danger)}section[_ngcontent-%COMP%]   #anadir[_ngcontent-%COMP%]{font-size:12px;margin:0 3px;color:var(--ion-color-primary)}.lista[_ngcontent-%COMP%]{background-color:transparent}ion-content.background[_ngcontent-%COMP%]{--background: url(medico3.30e8d5aff161b47e.png) 0 0/100% 100% no-repeat}ion-content[_ngcontent-%COMP%]{font-family:Arial;--background: #bfbfbf}ion-content[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{text-transform:none}ion-content[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{border-radius:10px;height:50px;box-shadow:1px 8px 8px #0000001f;--highlight-height: 0px;margin-bottom:10px}ion-content[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%]{font-size:15px;--pading-top: 15px;--pading-bottom: 15px;--pading-start: 5px}ion-content[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:15px;letter-spacing:.5px;text-decoration:none}.btn-wrapper[_ngcontent-%COMP%]{text-align:end}"]}),o})()}];let Z=(()=>{class o{}return o.\u0275fac=function(n){return new(n||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[m.Bz.forChild(b)],m.Bz]}),o})(),_=(()=>{class o{}return o.\u0275fac=function(n){return new(n||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[u.ez,r.u5,e.Pc,Z]]}),o})()},3003:(M,d,i)=>{i.d(d,{K:()=>m});var u=i(655),r=i(9863),e=i(3996);let m=(()=>{class s{constructor(g){this.toastController=g}presentToast(g){return(0,u.mG)(this,void 0,void 0,function*(){(yield this.toastController.create({message:g,duration:4e3})).present()})}}return s.\u0275fac=function(g){return new(g||s)(r.LFG(e.yF))},s.\u0275prov=r.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})()}}]);