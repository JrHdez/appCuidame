"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[4696],{4696:(h,m,l)=>{l.r(m),l.d(m,{Form1PageModule:()=>x});var u=l(9808),d=l(4182),a=l(3996),p=l(1264),g=l(655),e=l(9863),c=l(3071),_=l(3003),Z=l(2468),P=l(1188);function f(t,s){1&t&&e._UZ(0,"ion-back-button",33)}function M(t,s){if(1&t){const i=e.EpF();e.TgZ(0,"ion-back-button",34),e.NdJ("click",function(){return e.CHM(i),e.oxw().logOut()}),e.qZA()}}function T(t,s){if(1&t&&(e.TgZ(0,"ion-select-option",35),e._uU(1),e.qZA()),2&t){const i=s.$implicit;e.s9C("value",i.valor),e.xp6(1),e.Oqu(i.etiqueta)}}function v(t,s){if(1&t&&(e.TgZ(0,"ion-select-option",35),e._uU(1),e.qZA()),2&t){const i=s.$implicit;e.s9C("value",i.valor),e.xp6(1),e.Oqu(i.etiqueta)}}function C(t,s){1&t&&(e.TgZ(0,"ion-item"),e.TgZ(1,"ion-label",15),e._uU(2,"\xbfC\xf3mo te identificas?*"),e.qZA(),e._UZ(3,"ion-input",36),e.qZA())}function A(t,s){if(1&t){const i=e.EpF();e.TgZ(0,"div"),e.TgZ(1,"ion-footer",37),e.TgZ(2,"ion-toolbar"),e.TgZ(3,"ion-row"),e.TgZ(4,"ion-col"),e.TgZ(5,"div",38),e.TgZ(6,"ion-button",39),e.NdJ("click",function(){e.CHM(i);const r=e.oxw(),o=e.MAs(9);return r.onClickNext(o)}),e._uU(7),e._UZ(8,"ion-icon",40),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&t){const i=e.oxw();e.xp6(7),e.hij(" ",i.textNextButton," ")}}function q(t,s){if(1&t){const i=e.EpF();e.TgZ(0,"div"),e.TgZ(1,"ion-footer",37),e.TgZ(2,"ion-toolbar"),e.TgZ(3,"ion-row"),e.TgZ(4,"ion-col"),e.TgZ(5,"div",38),e.TgZ(6,"ion-button",39),e.NdJ("click",function(){e.CHM(i);const r=e.oxw(),o=e.MAs(9);return r.onClickNext(o)}),e._uU(7," Siguiente "),e._UZ(8,"ion-icon",40),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()}}const F=[{path:"",component:(()=>{class t{constructor(i,n,r,o,J,U,S){this.userService=i,this.navCtrl=n,this.toastMessage=r,this.dataService=o,this.storageService=J,this.route=U,this.alertController=S,this.title="Registro inicial",this.textNextButton="Siguiente",this.tiposID=[{valor:"cedula_ciudadania",etiqueta:"C\xe9dula de ciudadan\xeda"},{valor:"cedula_extranjeria",etiqueta:"Cedula de extranjer\xeda"},{valor:"tarjeta_extranjeria",etiqueta:"Tarjeta de extranjer\xeda"},{valor:"pasaporte",etiqueta:"Pasaporte"}],this.generos=[{valor:"femenino",etiqueta:"Femenino"},{valor:"masculino",etiqueta:"Masculino"},{valor:"otro",etiqueta:"Otro"}],this.newPacient={id:"",codPulsera:"",nombres:"",apellidos:"",tipoID:"",numeroID:"",edad:"",genero:"",direccion:null,ciudad:null,departamento:null,rh:null,eps:null,prepagada:null,arl:null,seguroFunerario:null,telefono:null}}ngOnInit(){return(0,g.mG)(this,void 0,void 0,function*(){this.editFlag=this.route.snapshot.paramMap.get("editFlag"),this.setEdit(),this.setUsuarioPaciente(),yield this.storageService.init(),yield this.getUser(),this.newPacient.codPulsera=this.user.bandCode})}setUsuarioPaciente(){this.dataService.getUsuarioPaciente()&&(this.newPacient.nombres=this.dataService.getUsuarioRegistrado().name,this.newPacient.apellidos=this.dataService.getUsuarioRegistrado().lastname,this.newPacient.telefono=this.dataService.getUsuarioRegistrado().phone,this.newPacient.tipoID=this.dataService.getUsuarioRegistrado().typeID,this.newPacient.numeroID=this.dataService.getUsuarioRegistrado().numberID)}setEdit(){"edit"===this.editFlag&&(this.title="Editar",this.textNextButton="Guardar",this.newPacient.nombres=this.dataService.dataPaciente.paciente.nombre,this.newPacient.apellidos=this.dataService.dataPaciente.paciente.apellido,this.newPacient.tipoID=this.dataService.dataPaciente.paciente["Tipo de identificaci\xf3n"],this.newPacient.numeroID=this.dataService.dataPaciente.paciente["N\xfamero de identificaci\xf3n"],this.newPacient.telefono=this.dataService.dataPaciente.paciente.telefono,this.newPacient.edad=this.dataService.dataPaciente.paciente.edad,this.newPacient.genero=this.dataService.dataPaciente.paciente.genero,this.newPacient.direccion=this.dataService.dataPaciente.paciente.direccion,this.newPacient.ciudad=this.dataService.dataPaciente.paciente.ciudad,this.newPacient.departamento=this.dataService.dataPaciente.paciente.departamento,this.newPacient.rh=this.dataService.dataPaciente.paciente.rh,this.newPacient.eps=this.dataService.dataPaciente.paciente.eps,this.newPacient.prepagada=this.dataService.dataPaciente.paciente.prepagada,this.newPacient.arl=this.dataService.dataPaciente.paciente.arl,this.newPacient.seguroFunerario=this.dataService.dataPaciente.paciente["Seguro funerario"],console.log(this.newPacient))}logOut(){return(0,g.mG)(this,void 0,void 0,function*(){yield(yield this.alertController.create({cssClass:"my-custom-class",header:"\xbfEst\xe1s seguro?",message:"Tu sesi\xf3n se cerrar\xe1 y los cambios no se guardar\xe1n. \xbfDeseas continuar?",buttons:[{text:"Cancelar",role:"cancel",cssClass:"secondary",id:"cancel-button"},{text:"Cerrar sesi\xf3n",id:"confirm-button",handler:()=>{this.navCtrl.navigateRoot("/initial"),this.storageService.clear()}}]})).present()})}recoverGender(i){console.log(this.newPacient),"femenino"===i.detail.value&&(this.dataService.setWomanFlag(!0),console.log("form1")),"masculino"===i.detail.value&&this.dataService.setWomanFlag(!1),this.flagGeneroOtros="otro"===i.detail.value}onClickNext(i){return(0,g.mG)(this,void 0,void 0,function*(){if(i.valid&&"new"===this.editFlag){const n=Object.assign(Object.assign({codPulsera:this.codPulsera},i.form.value),{form:1,aCargoId:this.user.id});this.dataService.setForm1(n),console.log("info data service",this.dataService.infoFormPaciente),this.navCtrl.navigateForward("/form2/new")}else if(i.valid&&"edit"===this.editFlag){console.log("editando");const n=Object.assign(Object.assign({codPulsera:this.codPulsera},i.form.value),{form:1,aCargoId:this.user.id,idPaciente:this.dataService.currentUserId}),r=yield this.userService.updateInfo(n,this.user.session_token).toPromise();this.toastMessage.presentToast(r.message),r.success&&this.navCtrl.navigateRoot("/tab1")}else this.toastMessage.presentToast("Por favor, revisa el formulario.")})}getUser(){return(0,g.mG)(this,void 0,void 0,function*(){yield this.storageService.loadUser().then(i=>{i&&(this.user=i,console.log("User coming from storage",this.user))}).catch(i=>console.log("Error obteniento user storage",i))})}}return t.\u0275fac=function(i){return new(i||t)(e.Y36(c.K),e.Y36(a.SH),e.Y36(_.K),e.Y36(Z.D),e.Y36(P.V),e.Y36(p.gz),e.Y36(a.Br))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-form1"]],decls:94,vars:24,consts:[[1,"ion-no-border"],["slot","start"],["defaultHref","/tab1",4,"ngIf"],["defaultHref","",3,"click",4,"ngIf"],["color","primary"],[1,"background"],["fForm1","ngForm"],["fixed",""],[1,"ion-align-items-center"],[1,"ion-text-center"],[1,"ion-margin"],["mode","md",1,"lista"],["lines","none"],["type","text","name","codPulsera","readonly","",3,"ngModel","ngModelChange"],["id","divv"],["position","floating"],["type","text","name","nombres","required","",3,"ngModel","ngModelChange"],["type","text","name","apellidos","required","",3,"ngModel","ngModelChange"],["interface","popover","name","tipoID","placeholder","Seleccionar...","required","",3,"ngModel","ngModelChange"],["required","",3,"value",4,"ngFor","ngForOf"],["name","numeroID","type","number","required","",3,"ngModel","ngModelChange"],["name","edad","type","number","required","",3,"ngModel","ngModelChange"],["interface","popover","name","genero","placeholder","Seleccionar...",3,"ngModel","ionChange"],[4,"ngIf"],["name","direccion","type","text",3,"ngModel","ngModelChange"],["name","ciudad","type","text",3,"ngModel","ngModelChange"],["name","departamento","type","text",3,"ngModel","ngModelChange"],["name","telefono","type","number","required","",3,"ngModel","ngModelChange"],["name","rh","type","text","required","",3,"ngModel","ngModelChange"],["name","eps","type","text",3,"ngModel","ngModelChange"],["name","prepagada","type","text",3,"ngModel","ngModelChange"],["name","arl","type","text",3,"ngModel","ngModelChange"],["name","seguroFunerario","type","text",3,"ngModel","ngModelChange"],["defaultHref","/tab1"],["defaultHref","",3,"click"],["required","",3,"value"],["name","otroGenero","type","text","required",""],["no-border",""],[1,"btn-wrapper"],["size","small","fill","outline","color","primary",3,"click"],["slot","end","name","caret-forward-outline"]],template:function(i,n){1&i&&(e.TgZ(0,"ion-header",0),e.TgZ(1,"ion-toolbar"),e.TgZ(2,"ion-buttons",1),e.YNc(3,f,1,0,"ion-back-button",2),e.YNc(4,M,1,0,"ion-back-button",3),e.qZA(),e.TgZ(5,"ion-title",4),e._uU(6),e.qZA(),e.qZA(),e.qZA(),e.TgZ(7,"ion-content",5),e.TgZ(8,"form",null,6),e.TgZ(10,"ion-grid",7),e.TgZ(11,"ion-row",8),e.TgZ(12,"ion-col",9),e.TgZ(13,"h3",10),e._uU(14,"A continuaci\xf3n, ingresa los datos de la persona que usar\xe1 la banda de seguridad:"),e.qZA(),e.TgZ(15,"ion-list",11),e.TgZ(16,"ion-item",12),e.TgZ(17,"ion-label"),e._uU(18,"C\xf3d. Pulsera: "),e.qZA(),e.TgZ(19,"ion-input",13),e.NdJ("ngModelChange",function(o){return n.newPacient.codPulsera=o}),e.qZA(),e.qZA(),e.TgZ(20,"div",14),e.TgZ(21,"p"),e._uU(22,"Datos personales: "),e.qZA(),e.TgZ(23,"ion-item"),e.TgZ(24,"ion-label",15),e._uU(25,"Nombres*"),e.qZA(),e.TgZ(26,"ion-input",16),e.NdJ("ngModelChange",function(o){return n.newPacient.nombres=o}),e.qZA(),e.qZA(),e.TgZ(27,"ion-item"),e.TgZ(28,"ion-label",15),e._uU(29,"Apellidos*"),e.qZA(),e.TgZ(30,"ion-input",17),e.NdJ("ngModelChange",function(o){return n.newPacient.apellidos=o}),e.qZA(),e.qZA(),e.TgZ(31,"ion-item"),e.TgZ(32,"ion-label"),e._uU(33,"Tipo de identificaci\xf3n*"),e.qZA(),e.TgZ(34,"ion-select",18),e.NdJ("ngModelChange",function(o){return n.newPacient.tipoID=o}),e.YNc(35,T,2,2,"ion-select-option",19),e.qZA(),e.qZA(),e.TgZ(36,"ion-item"),e.TgZ(37,"ion-label",15),e._uU(38,"No. de identificac\xf3n*"),e.qZA(),e.TgZ(39,"ion-input",20),e.NdJ("ngModelChange",function(o){return n.newPacient.numeroID=o}),e.qZA(),e.qZA(),e.TgZ(40,"ion-item"),e.TgZ(41,"ion-label",15),e._uU(42,"Edad*"),e.qZA(),e.TgZ(43,"ion-input",21),e.NdJ("ngModelChange",function(o){return n.newPacient.edad=o}),e.qZA(),e.qZA(),e.TgZ(44,"ion-item"),e.TgZ(45,"ion-label"),e._uU(46,"G\xe9nero*"),e.qZA(),e.TgZ(47,"ion-select",22),e.NdJ("ionChange",function(o){return n.recoverGender(o)}),e.YNc(48,v,2,2,"ion-select-option",19),e.qZA(),e.qZA(),e.YNc(49,C,4,0,"ion-item",23),e.qZA(),e.TgZ(50,"div",14),e.TgZ(51,"p"),e._uU(52,"Datos de contacto:"),e.qZA(),e.TgZ(53,"ion-item"),e.TgZ(54,"ion-label",15),e._uU(55,"Direcci\xf3n*"),e.qZA(),e.TgZ(56,"ion-input",24),e.NdJ("ngModelChange",function(o){return n.newPacient.direccion=o}),e.qZA(),e.qZA(),e.TgZ(57,"ion-item"),e.TgZ(58,"ion-label",15),e._uU(59,"Ciudad*"),e.qZA(),e.TgZ(60,"ion-input",25),e.NdJ("ngModelChange",function(o){return n.newPacient.ciudad=o}),e.qZA(),e.qZA(),e.TgZ(61,"ion-item"),e.TgZ(62,"ion-label",15),e._uU(63,"Departamento*"),e.qZA(),e.TgZ(64,"ion-input",26),e.NdJ("ngModelChange",function(o){return n.newPacient.departamento=o}),e.qZA(),e.qZA(),e.TgZ(65,"ion-item"),e.TgZ(66,"ion-label",15),e._uU(67,"Tel\xe9fono*"),e.qZA(),e.TgZ(68,"ion-input",27),e.NdJ("ngModelChange",function(o){return n.newPacient.telefono=o}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(69,"div",14),e.TgZ(70,"p"),e._uU(71,"Informacion de importancia:"),e.qZA(),e.TgZ(72,"ion-item"),e.TgZ(73,"ion-label",15),e._uU(74,"Tipo de sangre (RH)*"),e.qZA(),e.TgZ(75,"ion-input",28),e.NdJ("ngModelChange",function(o){return n.newPacient.rh=o}),e.qZA(),e.qZA(),e.TgZ(76,"ion-item"),e.TgZ(77,"ion-label",15),e._uU(78,"EPS"),e.qZA(),e.TgZ(79,"ion-input",29),e.NdJ("ngModelChange",function(o){return n.newPacient.eps=o}),e.qZA(),e.qZA(),e.TgZ(80,"ion-item"),e.TgZ(81,"ion-label",15),e._uU(82,"Prepagada"),e.qZA(),e.TgZ(83,"ion-input",30),e.NdJ("ngModelChange",function(o){return n.newPacient.prepagada=o}),e.qZA(),e.qZA(),e.TgZ(84,"ion-item"),e.TgZ(85,"ion-label",15),e._uU(86,"ARL"),e.qZA(),e.TgZ(87,"ion-input",31),e.NdJ("ngModelChange",function(o){return n.newPacient.arl=o}),e.qZA(),e.qZA(),e.TgZ(88,"ion-item"),e.TgZ(89,"ion-label",15),e._uU(90,"Seguro funerario"),e.qZA(),e.TgZ(91,"ion-input",32),e.NdJ("ngModelChange",function(o){return n.newPacient.seguroFunerario=o}),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.YNc(92,A,9,1,"div",23),e.YNc(93,q,9,0,"div",23)),2&i&&(e.xp6(3),e.Q6J("ngIf","edit"===n.editFlag),e.xp6(1),e.Q6J("ngIf","edit"!==n.editFlag),e.xp6(2),e.Oqu(n.title),e.xp6(13),e.Q6J("ngModel",n.newPacient.codPulsera),e.xp6(7),e.Q6J("ngModel",n.newPacient.nombres),e.xp6(4),e.Q6J("ngModel",n.newPacient.apellidos),e.xp6(4),e.Q6J("ngModel",n.newPacient.tipoID),e.xp6(1),e.Q6J("ngForOf",n.tiposID),e.xp6(4),e.Q6J("ngModel",n.newPacient.numeroID),e.xp6(4),e.Q6J("ngModel",n.newPacient.edad),e.xp6(4),e.Q6J("ngModel",n.newPacient.genero),e.xp6(1),e.Q6J("ngForOf",n.generos),e.xp6(1),e.Q6J("ngIf",n.flagGeneroOtros),e.xp6(7),e.Q6J("ngModel",n.newPacient.direccion),e.xp6(4),e.Q6J("ngModel",n.newPacient.ciudad),e.xp6(4),e.Q6J("ngModel",n.newPacient.departamento),e.xp6(4),e.Q6J("ngModel",n.newPacient.telefono),e.xp6(7),e.Q6J("ngModel",n.newPacient.rh),e.xp6(4),e.Q6J("ngModel",n.newPacient.eps),e.xp6(4),e.Q6J("ngModel",n.newPacient.prepagada),e.xp6(4),e.Q6J("ngModel",n.newPacient.arl),e.xp6(4),e.Q6J("ngModel",n.newPacient.seguroFunerario),e.xp6(1),e.Q6J("ngIf","edit"===n.editFlag),e.xp6(1),e.Q6J("ngIf","edit"!==n.editFlag))},directives:[a.Gu,a.sr,a.Sm,u.O5,a.wd,a.W2,d._Y,d.JL,d.F,a.jY,a.Nd,a.wI,a.q_,a.Ie,a.Q$,a.pK,a.j9,d.JJ,d.On,d.Q7,a.t9,a.QI,u.sg,a.as,a.oU,a.cs,a.n0,a.fr,a.YG,a.gu],styles:["p[_ngcontent-%COMP%]{text-align:left}#label[_ngcontent-%COMP%]{font-weight:700;font-size:20px;margin-bottom:5%;text-align:left;text-align:center}#divv[_ngcontent-%COMP%]{margin-bottom:15px;background-color:var(--caja-color);border-radius:20px;padding:11px;box-shadow:1px 8px 8px #0000001f}#divv[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 10px;font-weight:700;color:var(--ion-color-primary)}.lista[_ngcontent-%COMP%]{background-color:transparent}ion-content.background[_ngcontent-%COMP%]{--background: url(medico3.30e8d5aff161b47e.png) 0 0/100% 100% no-repeat}ion-content[_ngcontent-%COMP%]{font-family:Arial;--background: #bfbfbf}ion-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{text-align:start}ion-content[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{border-radius:10px;height:50px;box-shadow:1px 8px 8px #0000001f;--highlight-height: 0px;margin-bottom:10px}ion-content[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%]{font-size:15px;--pading-top: 15px;--pading-bottom: 15px;--pading-start: 5px}ion-content[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:15px;letter-spacing:.5px;text-decoration:none}.btn-wrapper[_ngcontent-%COMP%]{text-align:end}"]}),t})()}];let b=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[p.Bz.forChild(F)],p.Bz]}),t})(),w=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[u.ez]]}),t})(),x=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[u.ez,d.u5,a.Pc,b,w]]}),t})()},3003:(h,m,l)=>{l.d(m,{K:()=>p});var u=l(655),d=l(9863),a=l(3996);let p=(()=>{class g{constructor(c){this.toastController=c}presentToast(c){return(0,u.mG)(this,void 0,void 0,function*(){(yield this.toastController.create({message:c,duration:4e3})).present()})}}return g.\u0275fac=function(c){return new(c||g)(d.LFG(a.yF))},g.\u0275prov=d.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"}),g})()}}]);