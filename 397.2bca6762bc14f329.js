"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[397],{397:(Z,f,r)=>{r.r(f),r.d(f,{Form2PageModule:()=>U});var u=r(9808),l=r(4182),i=r(3996),p=r(3189),g=r(1264),m=r(655),e=r(9863),h=r(3071),x=r(3003),M=r(2468),v=r(1188);function T(t,c){if(1&t){const n=e.EpF();e.TgZ(0,"div"),e.TgZ(1,"ion-item"),e.TgZ(2,"ion-label",29),e._uU(3,"\xbfCu\xe1l? "),e.qZA(),e.TgZ(4,"ion-input",30),e.NdJ("ngModelChange",function(a){const d=e.CHM(n).index;return e.oxw(2).formEnf[d].enfermedad=a}),e.qZA(),e.qZA(),e.qZA()}if(2&t){const n=c.index,o=e.oxw(2);e.xp6(4),e.MGl("name","diagEnfermedad",n,""),e.Q6J("ngModel",o.formEnf[n].enfermedad)}}function C(t,c){if(1&t){const n=e.EpF();e.TgZ(0,"p",31),e.NdJ("click",function(){return e.CHM(n),e.oxw(2).anadirEnf(!1)}),e._uU(1,"Quitar"),e.qZA()}}function P(t,c){if(1&t){const n=e.EpF();e.TgZ(0,"div"),e.YNc(1,T,5,2,"div",24),e.TgZ(2,"div",25),e.TgZ(3,"p",26),e.NdJ("click",function(){return e.CHM(n),e.oxw().anadirEnf(!0)}),e._uU(4,"Agregar otra "),e._UZ(5,"ion-icon",27),e.qZA(),e.YNc(6,C,2,0,"p",28),e.qZA(),e.qZA()}if(2&t){const n=e.oxw();e.xp6(1),e.Q6J("ngForOf",n.listEnf),e.xp6(5),e.Q6J("ngIf",1!==n.noEnf)}}function A(t,c){if(1&t){const n=e.EpF();e.TgZ(0,"div"),e.TgZ(1,"ion-item",32),e.TgZ(2,"ion-label",29),e._uU(3,"\xbfCuales? "),e.qZA(),e.TgZ(4,"ion-textarea",33),e.NdJ("ngModelChange",function(a){return e.CHM(n),e.oxw().form2.discapacidad=a}),e.qZA(),e.qZA(),e.qZA()}if(2&t){const n=e.oxw();e.xp6(4),e.Q6J("ngModel",n.form2.discapacidad)}}function q(t,c){if(1&t){const n=e.EpF();e.TgZ(0,"ion-item"),e.TgZ(1,"ion-label"),e._uU(2,"\xbfEst\xe1 embarazada?"),e.qZA(),e.TgZ(3,"ion-select",34),e.NdJ("ngModelChange",function(a){return e.CHM(n),e.oxw().form2.embarazada=a}),e.TgZ(4,"ion-select-option",13),e._uU(5,"S\xed"),e.qZA(),e.TgZ(6,"ion-select-option",14),e._uU(7,"No"),e.qZA(),e.qZA(),e.qZA()}if(2&t){const n=e.oxw();e.xp6(3),e.Q6J("ngModel",n.form2.embarazada)}}function E(t,c){if(1&t){const n=e.EpF();e.TgZ(0,"div"),e.TgZ(1,"ion-item"),e.TgZ(2,"ion-label",29),e._uU(3,"Por favor describa las cicatrices:"),e.qZA(),e.TgZ(4,"ion-textarea",35),e.NdJ("ngModelChange",function(a){return e.CHM(n),e.oxw().form2.cicatricesDescripcion=a}),e.qZA(),e.qZA(),e.qZA()}if(2&t){const n=e.oxw();e.xp6(4),e.Q6J("ngModel",n.form2.cicatricesDescripcion)}}function F(t,c){if(1&t){const n=e.EpF();e.TgZ(0,"div"),e.TgZ(1,"ion-item"),e.TgZ(2,"ion-label",29),e._uU(3,"Por favor describa los tatuajes:"),e.qZA(),e.TgZ(4,"ion-textarea",36),e.NdJ("ngModelChange",function(a){return e.CHM(n),e.oxw().form2.tatuajesDescripcion=a}),e.qZA(),e.qZA(),e.qZA()}if(2&t){const n=e.oxw();e.xp6(4),e.Q6J("ngModel",n.form2.tatuajesDescripcion)}}const b=[{path:"",component:(()=>{class t{constructor(n,o,a,s,d,_,B){this.userService=n,this.navCtrl=o,this.toastMessage=a,this.dataService=s,this.storageService=d,this.popoverController=_,this.route=B,this.textNextButton="Siguiente",this.noEnf=1,this.listEnf=[1],this.formEnf=[{enfermedad:null}],this.form2={idPaciente:"",enfermedadB:"no",diagEnfermedad:null,discapacidadB:"no",discapacidad:null,embarazada:null,cicatricesB:"no",cicatricesDescripcion:null,tatuajesB:"no",tatuajesDescripcion:null}}ngOnInit(){return(0,m.mG)(this,void 0,void 0,function*(){this.editFlag=this.route.snapshot.paramMap.get("editFlag"),this.setEdit(),this.womanFlag=this.dataService.getWomanFlag(),yield this.storageService.init(),yield this.getUser()})}logOut(){this.navCtrl.navigateRoot("/initial"),this.storageService.clear()}setEdit(){if("edit"===this.editFlag){this.title="Editar",this.form2.enfermedadB="si",this.form2.discapacidadB="si",this.form2.tatuajesB="si",this.form2.cicatricesB="si",this.textNextButton="Guardar",this.noEnf=this.dataService.dataPaciente.condicion[this.dataService.dataPaciente.condicion.length-1];for(let o=0;o<this.noEnf;o++)0!==o?(this.listEnf.push(o+1),this.formEnf.push(this.dataService.dataPaciente.condicion[o])):this.formEnf[0]=this.dataService.dataPaciente.condicion[o];console.log(this.dataService.dataPaciente.condicion[this.noEnf]),this.form2.discapacidad=this.dataService.dataPaciente.condicion[this.noEnf].discapacidad,this.form2.cicatricesDescripcion=this.dataService.dataPaciente.condicion[this.noEnf].cicatrices,this.form2.tatuajesDescripcion=this.dataService.dataPaciente.condicion[this.noEnf].tatuajes,this.form2.embarazada=this.dataService.dataPaciente.condicion[this.noEnf].embarazada}}onClickNext(n){return(0,m.mG)(this,void 0,void 0,function*(){if(console.log(n.form.value),console.log(n.valid),n.valid)if("new"===this.editFlag){const o=Object.assign(Object.assign({},this.form2),{form:2});this.dataService.setFormEnfermedades(this.formEnf,this.listEnf),this.dataService.setFormCondicion(o),console.log(o),this.navCtrl.navigateForward("/form3/new")}else{const o=Object.assign(Object.assign({},this.form2),{form:2,idPaciente:this.dataService.currentUserId,enfermedades:this.formEnf}),a=yield this.userService.updateInfo(o,this.user.session_token).toPromise();console.log(a),a.success&&(this.toastMessage.presentToast(a.message),this.navCtrl.navigateRoot("/tab1"))}else this.toastMessage.presentToast("Por favor, revisa el formulario.")})}anadirEnf(n){n?(this.noEnf+=1,this.listEnf.push(this.noEnf),this.formEnf.push({enfermedad:null})):(this.noEnf-=1,this.listEnf.pop(),this.formEnf.pop())}getUser(){return(0,m.mG)(this,void 0,void 0,function*(){yield this.storageService.loadUser().then(n=>{n&&(this.user=n,console.log("User coming from storage form2",this.user))}).catch(n=>console.log("Error obteniento user storage",n))})}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(h.K),e.Y36(i.SH),e.Y36(x.K),e.Y36(M.D),e.Y36(v.V),e.Y36(i.Dh),e.Y36(g.gz))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-form2"]],decls:71,vars:11,consts:[[1,"ion-no-border"],["slot","start"],["color","primary","defaultHref","/initial"],["color","primary"],[1,"background"],["fForm2","ngForm"],["fixed",""],[1,"ion-align-items-center"],[1,"ion-text-center"],[1,"ion-margin"],["mode","md",1,"lista"],["id","listheader"],["interface","popover","name","enfermedad_B","placeholder","Seleccionar...","required","",3,"ngModel","ngModelChange"],["value","si","required",""],["value","no","required",""],[4,"ngIf"],["interface","popover","name","condicionEspecial","placeholder","Seleccionar...","required","",3,"ngModel","ngModelChange"],[1,"desc"],["interface","popover","name","cicatrices","placeholder","Seleccionar...","required","",3,"ngModel","ngModelChange"],["interface","popover","name","tatuajes","placeholder","Seleccionar...","required","",3,"ngModel","ngModelChange"],["no-border",""],[1,"btn-wrapper"],["size","small","fill","outline","color","primary",3,"click"],["slot","end","name","caret-forward-outline"],[4,"ngFor","ngForOf"],[1,"botones"],["id","anadir",3,"click"],["slot","start","name","add"],["id","quitar","style","text-align: end;",3,"click",4,"ngIf"],["position","floating"],["type","text","required","",3,"name","ngModel","ngModelChange"],["id","quitar",2,"text-align","end",3,"click"],[1,"text_area"],["type","text","name","codCondicionEspecial","required","",3,"ngModel","ngModelChange"],["interface","popover","name","embarazada","placeholder","Seleccionar...","required","",3,"ngModel","ngModelChange"],["name","cicatricesDescripcion","rows","3","type","text","required","",3,"ngModel","ngModelChange"],["type","text","rows","3","name","tatuajesDescripcion","required","",3,"ngModel","ngModelChange"]],template:function(n,o){if(1&n){const a=e.EpF();e.TgZ(0,"ion-header",0),e.TgZ(1,"ion-toolbar"),e.TgZ(2,"ion-buttons",1),e._UZ(3,"ion-back-button",2),e.qZA(),e.TgZ(4,"ion-title",3),e._uU(5),e.qZA(),e.qZA(),e.qZA(),e.TgZ(6,"ion-content",4),e.TgZ(7,"form",null,5),e.TgZ(9,"ion-grid",6),e.TgZ(10,"ion-row",7),e.TgZ(11,"ion-col",8),e.TgZ(12,"p",9),e._uU(13,"A continuaci\xf3n, ingresa los datos de la persona que usar\xe1 la banda de seguridad"),e.qZA(),e.TgZ(14,"ion-list",10),e.TgZ(15,"section"),e.TgZ(16,"p",11),e._uU(17,"Enfermedades "),e.qZA(),e.TgZ(18,"ion-item"),e.TgZ(19,"ion-label"),e._uU(20,"\xbfTiene alguna enfermedad?"),e.qZA(),e.TgZ(21,"ion-select",12),e.NdJ("ngModelChange",function(d){return o.form2.enfermedadB=d}),e.TgZ(22,"ion-select-option",13),e._uU(23,"S\xed"),e.qZA(),e.TgZ(24,"ion-select-option",14),e._uU(25,"No"),e.qZA(),e.qZA(),e.qZA(),e.YNc(26,P,7,2,"div",15),e.qZA(),e.TgZ(27,"section"),e.TgZ(28,"p",11),e._uU(29,"Discapacidad"),e.qZA(),e.TgZ(30,"ion-item"),e.TgZ(31,"ion-label"),e._uU(32,"\xbfTiene discapacidades?"),e.qZA(),e.TgZ(33,"ion-select",16),e.NdJ("ngModelChange",function(d){return o.form2.discapacidadB=d}),e.TgZ(34,"ion-select-option",13),e._uU(35,"S\xed"),e.qZA(),e.TgZ(36,"ion-select-option",14),e._uU(37,"No"),e.qZA(),e.qZA(),e.qZA(),e.YNc(38,A,5,1,"div",15),e.qZA(),e.TgZ(39,"section"),e.TgZ(40,"p",11),e._uU(41,"Distintivos"),e.qZA(),e.YNc(42,q,8,1,"ion-item",15),e.TgZ(43,"p",17),e._uU(44,"La siguiente informaci\xf3n (opcional) ser\xe1 usada con el fin de corroborar que la persona usando la manilla es la misma que se est\xe1 registrado ac\xe1."),e.qZA(),e.TgZ(45,"ion-item"),e.TgZ(46,"ion-label"),e._uU(47,"\xbfTiene cicatrices?"),e.qZA(),e.TgZ(48,"ion-select",18),e.NdJ("ngModelChange",function(d){return o.form2.cicatricesB=d}),e.TgZ(49,"ion-select-option",13),e._uU(50,"S\xed"),e.qZA(),e.TgZ(51,"ion-select-option",14),e._uU(52,"No"),e.qZA(),e.qZA(),e.qZA(),e.YNc(53,E,5,1,"div",15),e.TgZ(54,"ion-item"),e.TgZ(55,"ion-label"),e._uU(56,"\xbfTiene tatuajes?"),e.qZA(),e.TgZ(57,"ion-select",19),e.NdJ("ngModelChange",function(d){return o.form2.tatuajesB=d}),e.TgZ(58,"ion-select-option",13),e._uU(59,"S\xed"),e.qZA(),e.TgZ(60,"ion-select-option",14),e._uU(61,"No"),e.qZA(),e.qZA(),e.qZA(),e.YNc(62,F,5,1,"div",15),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(63,"ion-footer",20),e.TgZ(64,"ion-toolbar"),e.TgZ(65,"ion-row"),e.TgZ(66,"ion-col"),e.TgZ(67,"div",21),e.TgZ(68,"ion-button",22),e.NdJ("click",function(){e.CHM(a);const d=e.MAs(8);return o.onClickNext(d)}),e._uU(69),e._UZ(70,"ion-icon",23),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()}2&n&&(e.xp6(5),e.Oqu(o.title),e.xp6(16),e.Q6J("ngModel",o.form2.enfermedadB),e.xp6(5),e.Q6J("ngIf","si"===o.form2.enfermedadB),e.xp6(7),e.Q6J("ngModel",o.form2.discapacidadB),e.xp6(5),e.Q6J("ngIf","si"===o.form2.discapacidadB),e.xp6(4),e.Q6J("ngIf",o.womanFlag),e.xp6(6),e.Q6J("ngModel",o.form2.cicatricesB),e.xp6(5),e.Q6J("ngIf","si"===o.form2.cicatricesB),e.xp6(4),e.Q6J("ngModel",o.form2.tatuajesB),e.xp6(5),e.Q6J("ngIf","si"===o.form2.tatuajesB),e.xp6(7),e.hij(" ",o.textNextButton," "))},directives:[i.Gu,i.sr,i.Sm,i.oU,i.cs,i.wd,i.W2,l._Y,l.JL,l.F,i.jY,i.Nd,i.wI,i.q_,i.Ie,i.Q$,i.t9,i.QI,l.Q7,l.JJ,l.On,i.n0,u.O5,i.fr,i.YG,i.gu,u.sg,i.pK,i.j9,i.g2],styles:["p[_ngcontent-%COMP%]{text-align:left}#label[_ngcontent-%COMP%]{font-weight:700;font-size:20px;margin-bottom:5%;text-align:left;text-align:center}section[_ngcontent-%COMP%]{margin-bottom:15px;background-color:var(--caja-color);border-radius:20px;padding:11px;box-shadow:1px 8px 8px #0000001f}section[_ngcontent-%COMP%]   #listheader[_ngcontent-%COMP%]{margin:0 0 10px;font-weight:700;color:var(--ion-color-primary)}section[_ngcontent-%COMP%]   #numeral[_ngcontent-%COMP%]{font-size:12px;margin:0 3px 5px 0}section[_ngcontent-%COMP%]   .botones[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between}section[_ngcontent-%COMP%]   #quitar[_ngcontent-%COMP%]{font-size:12px;margin:0 3px;color:var(--ion-color-danger)}section[_ngcontent-%COMP%]   #anadir[_ngcontent-%COMP%]{font-size:12px;margin:0 3px;color:var(--ion-color-primary)}section[_ngcontent-%COMP%]   .desc[_ngcontent-%COMP%]{color:var(--desc-section);font-size:12px}.lista[_ngcontent-%COMP%]{background-color:transparent}ion-content.background[_ngcontent-%COMP%]{--background: url(medico3.30e8d5aff161b47e.png) 0 0/100% 100% no-repeat}ion-content[_ngcontent-%COMP%]{font-family:Arial;--background: #bfbfbf}ion-content[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{border-radius:10px;height:50px;box-shadow:1px 8px 8px #0000001f;--highlight-height: 0px;margin-bottom:10px}ion-content[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%]{font-size:15px;--pading-top: 15px;--pading-bottom: 15px;--pading-start: 5px}ion-content[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:15px;letter-spacing:.5px;text-decoration:none}ion-content[_ngcontent-%COMP%]   .text_area[_ngcontent-%COMP%]{height:80px}.btn-wrapper[_ngcontent-%COMP%]{text-align:end}#enfermedades-popover[_ngcontent-%COMP%]{--width: 320px}"]}),t})()}];let O=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[g.Bz.forChild(b)],g.Bz]}),t})(),U=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[u.ez,l.u5,i.Pc,O,p.h]]}),t})()},3003:(Z,f,r)=>{r.d(f,{K:()=>p});var u=r(655),l=r(9863),i=r(3996);let p=(()=>{class g{constructor(e){this.toastController=e}presentToast(e){return(0,u.mG)(this,void 0,void 0,function*(){(yield this.toastController.create({message:e,duration:4e3})).present()})}}return g.\u0275fac=function(e){return new(e||g)(l.LFG(i.yF))},g.\u0275prov=l.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"}),g})()}}]);